<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Empline</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" href="css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="/machines/images/emplineimages/icon.png" type="image/gif" />
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      
   </head>
   <!-- body -->
   <body class="main-layout">
      <!-- loader  -->
      <div class="loader_bg">
         <div class="loader"><img src="/machines/images/loading.gif" alt="#" /></div>
      </div>
      <!-- end loader -->
      <!-- header -->
      <header>
         <!-- header inner -->
         <div class="header">
            <div class="container">
               <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                     <div class="full">
                        <div class="center-desk">
                           <div class="logo">
                              <a href="/index"><img src="/images/logo.PNG" alt="#" /></a>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9">
                     <nav class="navigation navbar navbar-expand-md navbar-dark ">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarsExample04">
                           <ul class="navbar-nav mr-auto">
                              <li class="nav-item active">
                                 <a class="nav-link" href="/index">Home</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="/machines"> Machines</a>
                              </li>
							  <li class="nav-item">
                                 <a class="nav-link" href="/tools"> Tools</a>
                              </li>
                           </ul>
                        </div>
                     </nav>
                  </div>
               </div>
            </div>
         </div>
      </header>
      <!-- end header inner -->
      <!-- end header -->
      <!-- Machine -->
      <div class="hosting">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  </div>
               </div>
            </div>
            <div class>
               <div class="col-md-12">
                  <div class="web_hosting">
				  <figure><img  src="/machines/images/emplineimages/0.png"/></figure>&nbsp;
				  
					<h5>Nmap Output:</h5>&nbsp;
					 
					 <figure><img  src="/machines/images/emplineimages/1.png"/></figure>&nbsp;
					 <h5>Home Page</h5>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/2.png"/></figure>&nbsp;
					 <h6>While browsing the home page, we see a subdomain when we look at the URL that the employment tab directs us to.</h6>&nbsp;
					 
					 <figure><img  src="/machines/images/emplineimages/3.png"/></figure>&nbsp;
					 <h5>Edit /etc/hosts </h5>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/4.png"/></figure>&nbsp;
					 <h5>job.empline.thm</h5>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/5.png"/></figure>&nbsp;
					 <h6>Let's explore a bit:</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/6.png"/></figure>&nbsp;
					 <h6>The creation of a malicious document will allow us to be able to read a file on the server.</h6>&nbsp;
					 <h6>Creation of the script to generate a ‘.docx’ file:</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/7.png"/></figure>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/8.png"/></figure>&nbsp;
					 
					 <h6>After running the script:</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/9.png"/></figure>&nbsp;
					 <h6>We edit it as above.</h6>&nbsp;
					 <h6>Now we just need to re-zip it all and upload it to the site!</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/10.png"/></figure>&nbsp;
					 <h6>after uploading</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/11.png"/></figure>&nbsp;
					 
					 <h6>we only got username.</h6>&nbsp;
					 <h6>However this does not allow us to move forward in the exploitation of this machine, what may be interesting is to read the content of the config.php file containing the connection information to the database which is opened upon connection on port 3306</h6>&nbsp;
					 <h6>The second line we will write this time is as follows.</h6>&nbsp;
					 <p><!DOCTYPE test [<!ENTITY test SYSTEM 'php://filter/convert.base64-encode/resource=config.php'>]></p>
					 <figure><img  src="/machines/images/emplineimages/12.png"/></figure>&nbsp;
					 
					 
					 
					 <h6>Let's decode it with base64.</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/13.png"/></figure>&nbsp;
					 <h6>log in with database information.</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/14.png"/></figure>&nbsp;
					 <p>mysql -h 10.10.170.127 -u james -p opencats</p>
					 <p>select * from user;</p>
					 <h6>Let's go down a little bit:</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/15.png"/></figure>&nbsp;
					 <h6>md5crackstation</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/16.png"/></figure>&nbsp;
					 <h6>We can log in with our password.</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/17.png"/></figure>&nbsp;
					 <h6>We got our first flag.</h6>&nbsp;
					 <h6>Time to privilege escalation...</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/18.png"/></figure>&nbsp;
					 <h6>cap_chown activated, the latter allows you to change the owner of a file/folder.</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/19.png"/></figure>&nbsp;
					 <h5>result:</h5>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/20.png"/></figure>
					 <figure><img  src="/machines/images/emplineimages/21.png"/></figure>&nbsp;

					 <figure><img  src="/machines/images/emplineimages/22.png"/></figure>&nbsp;
					 <h6>Let me explain the codes as follows.</h6>&nbsp;&nbsp;
					 <h6>Change the owner of /etc/shadow </h6>
					 <p>george@empline# ruby -e "File.chown(1002, 1002, '/etc/shadow')"</p>
					 <h6>Set 777 perms to this file</h6>&nbsp;
					 <p>george@empline# chmod 777 /etc/shadow</p>
					 <h6>Create a new password for root user where ufkdup = password</h6>&nbsp;
					 <p>george@empline# openssl passwd ufkdup</p>
					 <h6>we got ItrWeBp6tLgsA</h6>&nbsp;
					 <h6>Let's modify the root user in /etc/shadow</h6>&nbsp;
					 <p>root:$6$1cvOcl49$/czKHKvBaz450J3YnIvkqexT.StvdgUWzPr5X1Aitt/kxgF/i78wziX3zJQ0y8Kg9y749Qjr5EFiHmTdPsIJH/:</p>
					 <h6>to</h6>&nbsp;
					 <p>root:ItrWeBp6tLgsA:</p>
					 <h6>switch to root</h6>&nbsp;
					 <figure><img  src="/machines/images/emplineimages/23.png"/></figure>&nbsp;
					 
					 
					 
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- end Machine -->

      <!-- Javascript files-->
      <script src="js/jquery.min.js"></script>
      <script src="js/popper.min.js"></script>
      <script src="js/bootstrap.bundle.min.js"></script>
      <script src="js/jquery-3.0.0.min.js"></script>
      <script src="js/plugin.js"></script>
      <!-- sidebar -->
      <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
      <script src="js/custom.js"></script>
      <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
   </body>
</html>
